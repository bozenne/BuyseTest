#+TITLE: Structure of the package
#+Author: Brice Ozenne

* Content

Note: the file:
- *RcppExports.R*: is used to link the R and C++ code. It is generated by
  Rcpp and should not be modified by hand.
- *1-setGeneric*: define the generic methods show and alloc so that
  they can be specified for specific objects.
- *valid*: is a copy of the file valid from the package butils. It
  defines functions checking the class of the arguments of a function. 

** DONE .onAttach (file 0-onload.R)

Display the version of the package when loading it and initialize the
options by calling =BuyseTest.option()=.

** BuyseRes (files BuyseRes-*.R)

Define the =BuyseRes= class, i.e. the class of the object returned by
=BuyseTest()=.

Define the =summary=, =show=, =alloc=, and =select= methods.

** BuyseTest.options (file BuyseTest.option-*.R)

Define the default options of the package in a object. Define the
class of this object and how to modify it.

** BuyseTest function (file BuyseTest-*.R)

The main function of the package is the function =BuyseTest= which
perform the Generalized Pairwise Comparison (GPC). This function is
the user interface to the internal function =GPC_cpp= which does
the actual computations.

\bigskip

The only purpose of the =BuyseTest= function is to normalize the
argument so that the following functions can focus on the
computation.

\bigskip

It calls several other functions:
| Function      | File where the function is defined | Purpose                                                                                            |
|---------------+------------------------------------+----------------------------------------------------------------------------------------------------|
| initFormula   | BuyseTest-initilization.R          | transform a formula into arguments.                                                                |
| initCensoring | BuyseTest-initilization.R          | check and normalize the censoring argument.                                                        |
| initThreshold | BuyseTest-initilization.R          | check and normalize the threshold argument.                                                        |
| initStrata    | BuyseTest-initilization.R          | check and normalize the strata variable.                                                           |
| initData      | BuyseTest-initilization.R          | check and normalize the data for =GPC_cpp=.                                                        |
| printGeneral  | BuyseTest-print.R                  | display in the console what type of GPC will be performed.                                         |
| printBoostrap | BuyseTest-print.R                  | display in the console what permutation test will be performed and the estimated time.             |
| calcBootstrap | BuyseTest-computation.R            | Perform sequention/parallel permutation test. Call =warper_BTboot= to create the permuted dataset. |
| calcCI        | BuyseTest-computation.R            | Compute confidence interval using the results of the permutation test                              |


** DONE constStrata (file constStrata.R)

User friendly function to create a unique strata variable from several
strata variable from a =data.frame=.

** TODO seBuyseTest (file seBuyseTest.R)

** DONE simBuyseTest (file simBuyseTest.R)

User friendly function to simulate data that can be analyzed by =BuyseTest=.


* Test battery






* CONFIG :noexport:
# #+LaTeX_HEADER:\affil{Department of Biostatistics, University of Copenhagen, Copenhagen, Denmark}
#+LANGUAGE:  en
#+LaTeX_CLASS: org-article
#+OPTIONS:   title:t author:t toc:t todo:nil
#+OPTIONS:   H:3 num:t 
#+OPTIONS:   TeX:t LaTeX:t

** Code
#+PROPERTY: header-args :session *R*
#+PROPERTY: header-args :tange yes % extract source code: http://orgmode.org/manual/Extracting-source-code.html
#+PROPERTY: header-args :eval yes :cache no
#+LATEX_HEADER: \RequirePackage{fancyvrb}
#+LATEX_HEADER: \DefineVerbatimEnvironment{verbatim}{Verbatim}{fontsize=\small,formatcom = {\color[rgb]{0.5,0,0}}}

** Display 
#+LATEX_HEADER: \RequirePackage{colortbl} % arrayrulecolor to mix colors
#+LATEX_HEADER: \RequirePackage{setspace} % to modify the space between lines - incompatible with footnote in beamer
#+LaTeX_HEADER:\usepackage{authblk} % enable several affiliations (clash with beamer)

** Image
#+LATEX_HEADER: \RequirePackage{epstopdf} % to be able to convert .eps to .pdf image files

** Latex command
#+LaTeX_HEADER: %
#+LaTeX_HEADER: %%%% additional latex commands %%%%
#+LaTeX_HEADER: %
